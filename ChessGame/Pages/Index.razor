@page "/"
@inject ChessGame.Services.GameService GameService
@inject ChessGame.Services.PlayerService PlayerService

<h1>Welcome to Online Chess Game</h1>

@if (PlayerService.CurrentPlayer != null)
{
    <p>Welcome, @PlayerService.CurrentPlayer.Name!</p>
    <button class="btn btn-primary" @onclick="StartGame">Start Game</button>
}
else
{
    <p>Please enter your name to start playing:</p>
    <input @bind="playerName" placeholder="Enter your name" />
    <button class="btn btn-primary" @onclick="RegisterPlayer">Register</button>
}

@code {
    string playerName;

    void RegisterPlayer()
    {
        PlayerService.RegisterPlayer(playerName);
    }

    void StartGame()
    {
        GameService.StartGame();
        NavigationManager.NavigateTo("/game");
    }
}